<section class="container my-4">
  <div class="card shadow-sm border-0">
    <div class="card-header bg-dark text-white d-flex align-items-center gap-2">
      <i class="bi bi-clipboard-check fs-5"></i>
      <h5 class="mb-0">Relatório de Programação</h5>
    </div>

    <div class="card-body">
      <label class="form-label fw-semibold">
        <i class="bi bi-geo-alt"></i> Local
      </label>
      <form id="formRelatorio" class="row g-4">
        <!-- LOCAL SELECIONADO (RESUMO) -->
        <div id="localSelecionadoHeader" class="d-none mb-2">
          <button
            id="btnToggleLocais"
            class="btn btn-dark w-100 d-flex justify-content-between align-items-center"
            type="button"
          >
            <span id="localSelecionadoNome"></span>
            <i class="bi bi-chevron-down"></i>
          </button>
        </div>

        <!-- LISTA DE LOCAIS -->
        <div id="collapseLocais">
          <div
            id="listaLocais"
            class="list-group border rounded overflow-hidden"
          >
            <!-- Gerado via JS -->
          </div>
        </div>

        <input type="hidden" id="localSelecionado" required />

        <!-- PROGRAMAÇÃO -->
        <div class="col-12">
          <label class="form-label fw-semibold">
            <i class="bi bi-calendar-event"></i> Programação
          </label>

          <div id="listaProgramacoes" class="row g-2">
            <div class="col-12">
              <div class="alert alert-secondary py-2 mb-0 small">
                Selecione um local para carregar as programações.
              </div>
            </div>
          </div>

          <input type="hidden" id="programacaoSelecionada" required />
        </div>

        <!-- DATA -->
        <div class="col-md-6">
          <label class="form-label fw-semibold">
            <i class="bi bi-calendar-date"></i> Data
          </label>
          <input type="date" id="dataRelatorio" class="form-control" readonly />
        </div>

        <!-- RESPONSÁVEL -->
        <div class="col-md-6">
          <label class="form-label fw-semibold">
            <i class="bi bi-person-badge"></i> Responsável
          </label>
          <input
            type="text"
            id="responsavel"
            class="form-control"
            placeholder="Nome do responsável"
            required
          />
        </div>

        <!-- OBSERVAÇÕES -->
        <div class="col-12">
          <label class="form-label fw-semibold">
            <i class="bi bi-chat-text"></i> Observações
          </label>
          <textarea
            id="observacoes"
            rows="4"
            class="form-control"
            placeholder="Observações adicionais"
          ></textarea>
        </div>

        <div class="col-md-6">
          <label class="form-label">Qtd. Internos</label>
          <input
            type="number"
            id="qtdInternos"
            class="form-control"
            min="0"
            placeholder="Ex: 12"
          />
          <div class="form-text">
            Quantidade de irmãos participantes que
            <b>Não são músicos</b>.
          </div>
        </div>

        <!-- CAMPOS EVANGELIZAÇÃO -->
        <div class="col-12 d-none" id="camposEvangelizacao">
          <div class="card border-warning">
            <div class="card-header bg-warning-subtle fw-semibold">
              <i class="bi bi-megaphone"></i> Informações da Evangelização
            </div>

            <div class="card-body">
              <!-- descrição geral -->
              <p class="text-muted small mb-3">
                Preencha apenas as informações referentes à evangelização. Esses
                dados serão utilizados exclusivamente no documento final.
              </p>

              <div class="row g-3">
                <div class="col-md-6">
                  <label class="form-label">Palavra</label>
                  <input
                    type="text"
                    id="palavra"
                    class="form-control"
                    placeholder="Ex: João 3:16–21"
                  />
                  <div class="form-text">
                    Informe o livro, capítulo e versículos revelados na
                    evangelização. <br />
                    Se caso não ouve palavra escreva "Não ouve Palavra"
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- COLABORADORES -->
        <div class="col-12">
          <label class="form-label fw-semibold">
            <i class="bi bi-people"></i> Colaboradores DARPE
          </label>

          <div
            id="listaColaboradores"
            class="border rounded p-3 bg-body-secondary small"
          >
            <span class="text-muted">
              Selecione uma programação para visualizar os colaboradores.
            </span>
          </div>
        </div>

        <!-- AÇÕES -->
        <div class="col-12 d-flex flex-wrap gap-2 justify-content-end">
          <button type="button" class="btn btn-primary" onclick="gerarPDF()">
            <i class="bi bi-file-earmark-pdf"></i> Gerar PDF
          </button>

          <button onclick="enviarWhatsAppRelatorio()" class="btn btn-success">
            <i class="bi bi-whatsapp"></i> Enviar no WhatsApp
          </button>
        </div>
      </form>
    </div>
  </div>
</section>
