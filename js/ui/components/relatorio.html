<section class="container my-4">
  <div class="card shadow-sm border-0">
    <div class="card-header bg-dark text-white d-flex align-items-center gap-2">
      <i class="bi bi-clipboard-check fs-5"></i>
      <h5 class="mb-0">Relat√≥rio de Programa√ß√£o</h5>
    </div>

    <div class="card-body">
      <label class="form-label fw-semibold">
        <i class="bi bi-geo-alt"></i> Local
      </label>
      <form id="formRelatorio" class="row g-4">
        <!-- LOCAL SELECIONADO (RESUMO) -->
        <div id="localSelecionadoHeader" class="d-none mb-2">
          <button
            id="btnToggleLocais"
            class="btn btn-dark w-100 d-flex justify-content-between align-items-center"
            type="button"
          >
            <span id="localSelecionadoNome"></span>
            <i class="bi bi-chevron-down"></i>
          </button>
        </div>

        <!-- LISTA DE LOCAIS -->
        <div id="collapseLocais">
          <div
            id="listaLocais"
            class="list-group border rounded overflow-hidden"
          >
            <!-- Gerado via JS -->
          </div>
        </div>

        <input type="hidden" id="localSelecionado" required />

        <!-- PROGRAMA√á√ÉO -->
        <div class="col-12">
          <label class="form-label fw-semibold">
            <i class="bi bi-calendar-event"></i> Programa√ß√£o
          </label>

          <div id="listaProgramacoes" class="row g-2">
            <div class="col-12">
              <div class="alert alert-secondary py-2 mb-0 small">
                Selecione um local para carregar as programa√ß√µes.
              </div>
            </div>
          </div>

          <input type="hidden" id="programacaoSelecionada" required />
        </div>

        <!-- DATA -->
        <div class="col-md-6">
          <label class="form-label fw-semibold">
            <i class="bi bi-calendar-date"></i> Data
          </label>
          <input type="date" id="dataRelatorio" class="form-control" readonly />
        </div>

        <!-- RESPONS√ÅVEL -->
        <div class="col-md-6">
          <label class="form-label fw-semibold">
            <i class="bi bi-person-badge"></i> Respons√°vel
          </label>
          <input
            type="text"
            id="responsavel"
            class="form-control"
            placeholder="Nome do respons√°vel"
            required
          />
        </div>

        <!-- OBSERVA√á√ïES -->
        <div class="col-12">
          <label class="form-label fw-semibold">
            <i class="bi bi-chat-text"></i> Observa√ß√µes
          </label>
          <textarea
            id="observacoes"
            rows="4"
            class="form-control"
            placeholder="Observa√ß√µes adicionais"
          ></textarea>
        </div>

        <div class="col-md-6">
          <label class="form-label">Qtd. Internos</label>
          <input
            type="number"
            id="qtdInternos"
            class="form-control"
            min="0"
            placeholder="Ex: 12"
          />
          <div class="form-text">
            Quantidade de irm√£os participantes que
            <b>N√£o s√£o m√∫sicos</b>.
          </div>
        </div>

        <!-- CAMPOS EVANGELIZA√á√ÉO -->
        <div class="col-12 d-none" id="camposEvangelizacao">
          <div class="card border-warning">
            <div class="card-header bg-warning-subtle fw-semibold">
              <i class="bi bi-megaphone"></i> Informa√ß√µes da Evangeliza√ß√£o
            </div>

            <div class="card-body">
              <!-- descri√ß√£o geral -->
              <p class="text-muted small mb-3">
                Preencha apenas as informa√ß√µes referentes √† evangeliza√ß√£o. Esses
                dados ser√£o utilizados exclusivamente no documento final.
              </p>

              <div class="row g-3">
                <div class="col-md-6">
                  <label class="form-label">Palavra</label>
                  <input
                    type="text"
                    id="palavra"
                    class="form-control"
                    placeholder="Ex: Jo√£o 3:16‚Äì21"
                  />
                  <div class="form-text">
                    Informe o livro, cap√≠tulo e vers√≠culos revelados na
                    evangeliza√ß√£o. <br />
                    Se caso n√£o ouve palavra escreva "N√£o ouve Palavra"
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- COLABORADORES -->
        <div class="col-12">
          <label class="form-label fw-semibold">
            <i class="bi bi-people"></i> Colaboradores DARPE
          </label>

          <div
            id="listaColaboradores"
            class="border rounded p-3 bg-body-secondary small"
            style="cursor: pointer"
          >
            <span class="text-muted fst-italic">
              Toque para editar os colaboradores
            </span>
          </div>

          <!-- üîô DESFAZER -->
          <div class="d-flex justify-content-end mt-2">
            <button
              id="btnDesfazer"
              type="button"
              class="btn btn-sm btn-outline-secondary d-none m-1"
              onclick="desfazerUltimaRemocao()"
            >
              <i class="bi bi-arrow-counterclockwise"></i>
              Desfazer
            </button>
          </div>
        </div>

        <!-- A√á√ïES -->
        <div class="col-12 d-flex flex-wrap gap-2 justify-content-end">
          <button type="button" class="btn btn-primary" onclick="gerarPDF()">
            <i class="bi bi-file-earmark-pdf"></i> Gerar PDF
          </button>

          <button onclick="enviarWhatsAppRelatorio()" class="btn btn-success">
            <i class="bi bi-whatsapp"></i> Enviar no WhatsApp
          </button>
        </div>
      </form>
    </div>
  </div>
</section>
